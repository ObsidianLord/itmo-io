# Лабораторная работа 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.

## Описание функциональности драйвера

Разработанный драйвер считает количество пробелов в тексте, который был введен в файл символьного устройства `/dev/var4`. Последовательность полученных результатов выводится в консоль пользователя и в кольцевой буфер ядра при чтении файла `/proc/var4` или файла символьного устройства `/dev/var4`.

## Инструкция по сборке

Драйвер собирается как модуль ядра Linux. Для сборки требуется перейти в директорию `lab1/` и выполнить команду `make`

Результат: в директории `lab1/` появился kernel object файл: `lab1.ko`

## Инструкция пользователя

Примечание: для выполнения практически всех команд требуются root права

Загрузка модуля в ядро и проверка загрузки
```
# insomd lab1.ko
# lsmod 
```
Ввод текста в файл символьного устройства:
```
# echo " test text " >/dev/var4
```
Вывод результатов:
```
# cat /proc/var4    # вывод в консоль пользователя
# cat /dev/var4     # вывод в консоль пользователя
# dmesg             # просмотр кольцевого буфера
```
Выгрузка модуля
```
# rmmod lab1.ko
```

## Примеры использования

```
# insomd lab1.ko          
# echo " test text " >/dev/var4     # 3 пробела
# cat /proc/var4
3
# echo " t est t ext " >/dev/var4   # 5 пробелов
# cat /dev/var4
3
8
# dmesg
ДОДЕЛАТЬ ВЫВОД
# rmmod lab1.ko
```
